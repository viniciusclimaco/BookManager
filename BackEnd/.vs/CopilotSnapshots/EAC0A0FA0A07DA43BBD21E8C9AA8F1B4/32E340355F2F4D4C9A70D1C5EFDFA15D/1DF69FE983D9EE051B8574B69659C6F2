using BookManager.Application.Services.Interfaces;
using BookManager.Domain.Entities;
using BookManager.Infrastructure.DTOs;
using BookManager.Infrastructure.DTOs.Report;
using BookManager.Infrastructure.Repositories;
using BookManager.Infrastructure.Repositories.Interfaces;

namespace BookManager.Application.Services;

/// <summary>
/// Serviço de aplicação para Forma de Pagamento
/// </summary>
public class RelatorioService : IRelatorioService
{
    private readonly IRelatorioRepository _relatorioRepository;

    public RelatorioService(IRelatorioRepository relatorioRepository)
    {
        _relatorioRepository = relatorioRepository ?? throw new ArgumentNullException(nameof(relatorioRepository));        
    }
        

    public Task<IEnumerable<AutorPorLivroDto>> ObterAutoresPorLivroAsync(int? idAutor = null)
    {
        var relatorio = await _relatorioRepository.ObterAutoresPorLivroAsync(idAutor);
        return formaPagamento == null ? null : MapToDto(formaPagamento);

        throw new NotImplementedException();
    }

    public Task<IEnumerable<LivroComPrecoDto>> ObterLivrosComPrecoAsync(decimal? valorMinimo = null, decimal? valorMaximo = null, int? idFormaPagamento = null, bool? apenasAtivos = true)
    {
        throw new NotImplementedException();
    }

    public Task<IEnumerable<LivroPorAssuntoDto>> ObterLivrosPorAssuntoAsync(int? idAssunto = null, int? anoInicio = null, int? anoFim = null, bool? apenasAtivos = true)
    {
        throw new NotImplementedException();
    }
}
